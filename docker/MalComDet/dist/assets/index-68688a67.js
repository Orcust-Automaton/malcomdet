import{l as e,a3 as a,_ as t,o as l,e as n,d as o,r as i,g as s,w as u,k as d,f as c,t as r,c as g,x as p,u as f,N as _,h}from"./index-13fa909d.js";import"./index-c82f2093.js";import{b as m,d as v,u as y}from"./index-b3aed47c.js";const x={class:"gi-footer"};const k=t({name:"GiFooter"},[["render",function(e,a,t,o,i,s){return l(),n("div",x,"Copyright 2023 MCD Admin")}],["__scopeId","data-v-97d308eb"]]),z={class:"table-page"},w={class:"table-box"},S=o({name:"MainTable"}),C=t(o({...S,setup(t){const o=e({value1:"",value2:""}),x=i(!1),S=i([]),{current:C,pageSize:b,total:P,changeCurrent:T,changePageSize:V,setTotal:j}=function(t,l={defaultPageSize:10}){const n=e({showPageSize:!0,showTotal:!0,current:1,pageSize:l.defaultPageSize,total:0,onChange:e=>{n.current=e,t&&t()},onPageSizeChange:e=>{n.current=1,n.pageSize=e,t&&t()}}),o=n.onChange,i=n.onPageSizeChange,{current:s,pageSize:u,total:d}=a(n);return{current:s,pageSize:u,total:d,pagination:n,changeCurrent:o,changePageSize:i,setTotal:function(e){n.total=e}}}((()=>I())),I=async()=>{x.value=!0;let e=2;"恶意"==o.value2&&(e=1),"非恶意"==o.value2&&(e=0);const{success:a,data:t}=await m({current:C.value,pageSize:b.value,text:o.value1,attack:e});a?(S.value=t.list,j(t.total),x.value=!1):x.value=!1},M=async()=>{o.value1="",o.value2="",I()};return I(),(e,a)=>{const t=h("a-input"),i=h("a-form-item"),m=h("a-col"),j=h("a-option"),O=h("a-select"),U=h("icon-search"),A=h("a-button"),D=h("a-space"),F=h("a-row"),G=h("a-form"),N=h("a-table-column"),W=h("a-typography-text"),q=h("icon-edit"),B=h("a-link"),E=h("icon-eye"),H=h("a-popover"),J=h("icon-delete"),K=h("a-popconfirm"),L=h("a-table"),Q=k;return l(),n("div",z,[s(G,{"label-align":"right","auto-label-width":"",model:o,class:"form"},{default:u((()=>[s(F,{gutter:16,wrap:""},{default:u((()=>[s(m,{xs:12,md:12,lg:8,xl:6,xxl:6},{default:u((()=>[s(i,{field:"value1",label:"内容"},{default:u((()=>[s(t,{modelValue:o.value1,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value1=e),placeholder:"请输入内容"},null,8,["modelValue"])])),_:1})])),_:1}),s(m,{xs:12,md:12,lg:8,xl:6,xxl:6},{default:u((()=>[s(i,{field:"value2",label:"恶意性"},{default:u((()=>[s(O,{"model-value":o.value2,"onUpdate:modelValue":a[1]||(a[1]=e=>o.value2=e),placeholder:"请选择"},{default:u((()=>[s(j,null,{default:u((()=>[d("恶意")])),_:1}),s(j,null,{default:u((()=>[d("非恶意")])),_:1})])),_:1},8,["model-value"])])),_:1})])),_:1}),s(m,{span:12},{default:u((()=>[s(D,null,{default:u((()=>[s(A,{type:"primary",onClick:I},{icon:u((()=>[s(U)])),default:u((()=>[d("查询")])),_:1}),s(A,{onClick:M},{default:u((()=>[d("重置")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["model"]),c("section",w,[s(L,{"row-key":"id",size:"small","page-position":"bottom",bordered:{cell:!0},loading:x.value,data:S.value,scroll:{x:"100%",y:"100%",minWidth:1e3},pagination:{showPageSize:!0,total:f(P),current:f(C),pageSize:f(b)},onPageChange:f(T),onPageSizeChange:f(V)},{columns:u((()=>[s(N,{title:"序号",width:66,align:"center"},{cell:u((e=>[d(r(e.rowIndex+1),1)])),_:1}),s(N,{title:"内容","data-index":"text",ellipsis:""}),s(N,{title:"创建时间",width:200,"data-index":"time",ellipsis:"",tooltip:""}),s(N,{title:"来源",width:80,ellipsis:"",tooltip:""},{cell:u((({record:e})=>[1==e.type?(l(),g(W,{key:0,type:"info"},{default:u((()=>[d("系统")])),_:1})):p("",!0),2==e.type?(l(),g(W,{key:1,type:"info"},{default:u((()=>[d("接口")])),_:1})):p("",!0),3==e.type?(l(),g(W,{key:2,type:"info"},{default:u((()=>[d("爬虫")])),_:1})):p("",!0)])),_:1}),s(N,{title:"恶意性",width:80,align:"center"},{cell:u((({record:e})=>[e.attack?(l(),g(W,{key:1,type:"danger"},{default:u((()=>[d("恶意")])),_:1})):(l(),g(W,{key:0,type:"success"},{default:u((()=>[d("非恶意")])),_:1}))])),_:1}),s(N,{title:"操作",width:230,align:"center"},{cell:u((({record:e})=>[s(D,{size:4},{default:u((()=>[s(B,{onClick:a=>(async e=>{let a=e.attack?0:1;const{success:t,data:l}=await y({type:e.type,text:e.text,attack:a});t&&_.success("修正成功！"),I()})(e)},{icon:u((()=>[s(q,{size:15,"stroke-width":3})])),default:u((()=>[d("修正")])),_:2},1032,["onClick"]),s(H,{trigger:"click"},{content:u((()=>[c("p",null,r(e.text),1)])),default:u((()=>[s(B,null,{icon:u((()=>[s(E,{size:15,"stroke-width":3})])),default:u((()=>[d("详情")])),_:1})])),_:2},1024),s(K,{type:"warning",onOk:a=>(async e=>{const{success:a,data:t}=await v({idx:e.idx});a&&_.success("删除成功！"),I()})(e),content:"您确定要删除该项吗?"},{default:u((()=>[s(B,{status:"danger"},{icon:u((()=>[s(J,{size:15,"stroke-width":3})])),default:u((()=>[d("删除 ")])),_:1})])),_:2},1032,["onOk"])])),_:2},1024)])),_:1})])),_:1},8,["loading","data","pagination","onPageChange","onPageSizeChange"])]),s(Q)])}}}),[["__scopeId","data-v-f0c11f5a"]]);export{C as default};
