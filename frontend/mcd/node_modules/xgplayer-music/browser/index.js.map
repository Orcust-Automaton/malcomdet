{"version":3,"sources":["webpack://Music/webpack/bootstrap","webpack://Music/./src/music.js","webpack://Music/./node_modules/es5-ext/object/is-value.js","webpack://Music/external \"Player\"","webpack://Music/./node_modules/type/value/is.js","webpack://Music/./src/index.js","webpack://Music/./src/theme.scss?9f9d","webpack://Music/./src/theme.scss","webpack://Music/./node_modules/css-loader/lib/css-base.js","webpack://Music/./node_modules/style-loader/lib/addStyles.js","webpack://Music/./node_modules/style-loader/lib/urls.js","webpack://Music/./src/lyric.js","webpack://Music/./src/analyze.js","webpack://Music/./src/util.js","webpack://Music/./src/xhr.js","webpack://Music/./node_modules/event-emitter/index.js","webpack://Music/./node_modules/d/index.js","webpack://Music/./node_modules/type/plain-function/is.js","webpack://Music/./node_modules/type/function/is.js","webpack://Music/./node_modules/type/prototype/is.js","webpack://Music/./node_modules/type/object/is.js","webpack://Music/./node_modules/es5-ext/object/assign/index.js","webpack://Music/./node_modules/es5-ext/object/assign/is-implemented.js","webpack://Music/./node_modules/es5-ext/object/assign/shim.js","webpack://Music/./node_modules/es5-ext/object/keys/index.js","webpack://Music/./node_modules/es5-ext/object/keys/is-implemented.js","webpack://Music/./node_modules/es5-ext/object/keys/shim.js","webpack://Music/./node_modules/es5-ext/function/noop.js","webpack://Music/./node_modules/es5-ext/object/valid-value.js","webpack://Music/./node_modules/es5-ext/object/normalize-options.js","webpack://Music/./node_modules/es5-ext/string/#/contains/index.js","webpack://Music/./node_modules/es5-ext/string/#/contains/is-implemented.js","webpack://Music/./node_modules/es5-ext/string/#/contains/shim.js","webpack://Music/./node_modules/es5-ext/object/valid-callable.js","webpack://Music/./src/controls/backward.js","webpack://Music/./src/controls/cover.js","webpack://Music/./src/controls/forward.js","webpack://Music/./src/controls/meta.js","webpack://Music/./src/controls/next.js","webpack://Music/./src/controls/prev.js","webpack://Music/./src/database.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","timeScale","util","Player","Music","options","opts","deepCopy","controls","mediaType","ignores","volumeShow","push","player","database","Database","config","indexOf","Backward","Cover","Forward","Meta","Next","Prev","rawConfig","list","typeOf","url","src","vid","poster","nextIndex","prevIndex","length","halfPass","history","index","addClass","root","width","style","height","this","video","currentSrc","set","v","cur","configurable","autoplayMuted","volume","autoplay","once","lang","abCycle","addProgressDot","start","end","duration","on","currentTime","confirmOrder","loop","pause","emit","change","musicOrderEnd","next","segPlay","checkOffline","then","display","lyricTxts","Dom","__lyric__","unbind","concat","Lyric","lyricOpts","nextComput","prevComput","preloadNext","offlineVid","Xhr","res","openDB","addData","myDB","ojstore","blob","Blob","type","setTimeout","closeDB","Math","ceil","random","meta","idx","every","item","splice","removeAbCycle","self","m4a","load","switchKeepProgress","ended","play","Promise","resolve","offline","getDataByKey","result","URL","createObjectURL","canvas","Analyze","removeAllProgressDot","ModeType","scale","window","AudioContext","webkitAudioContext","_undefined","val","content","transform","undefined","locals","useSourceMap","toString","map","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","source","sourceRoot","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","id","fn","memo","stylesInDom","isOldIE","document","all","atob","apply","arguments","getTarget","target","querySelector","getElement","styleTarget","HTMLIFrameElement","contentDocument","head","e","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","j","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","insertInto","Error","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","before","removeStyleElement","parentNode","removeChild","createStyleElement","createElement","attrs","addAttrs","el","keys","forEach","setAttribute","obj","update","remove","styleIndex","applyToSingletonTag","revokeObjectURL","link","rel","createLinkElement","updateLink","href","applyToTag","newObj","DEBUG","newList","mayRemove","textStore","replaceText","replacement","filter","Boolean","styleSheet","cssText","cssNode","createTextNode","childNodes","autoFixUrls","convertToAbsoluteUrls","oldSrc","location","baseUrl","protocol","host","currentDir","pathname","replace","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1","test","LyricTime","timeTxt","regRule","time","RegExp","$2","$3","txts","dom","rawTxts","match","isDynamics","isDynamic","some","__ainimateInterval__","__offset__","__offsetScale__","lists","txt","reg","lyric","reduce","pre","removeBlankLine","line","k","len","sep","curTime","interval","offset","idxy","__player__","__handle__","f","find","__startHandle__","off","lyrbicTxts","ev","nodeType","lrcWrap","createDom","innerHTML","lrcForward","addEventListener","preventDefault","stopPropagation","offsetScale","console","log","lrcBack","__updateHandle__","domWrap","activeDom","offsetHeight","activeTop","className","getBoundingClientRect","top","scrollTop","AudioCtx","audioCtx","analyser","createAnalyser","gainNode","createGain","minDecibels","maxDecibels","smoothingTimeConstant","gain","setValueAtTime","er","createMediaElementSource","ctx","getContext","connect","destination","bgColor","color","__type__","__size__","__status__","switch","close","bufferLen","frequencyBinCount","dataArray","Uint8Array","WIDTH","HEIGHT","Color","toRGB","fftSize","draw","getByteTimeDomainData","clearRect","fillStyle","lineWidth","strokeStyle","beginPath","sliceWidth","x","y","moveTo","lineTo","stroke","toArray","getByteFrequencyData","fillRect","barWidth","barHeight","Mode","num","isSqrt","prefix","lastTime","prefixes","split","requestAnimationFrame","cancelAnimationFrame","callback","element","currTime","Date","getTime","timeToCall","max","clearTimeout","opacity","Valid","slice","rgb","Number","error","xhr","XMLHttpRequest","responseType","open","onload","status","Function","response","onerror","message","run","abort","readyState","send","methods","descriptors","callable","defineProperties","descriptor","writable","listener","__eeOnceListener__","data","__ee__","listeners","candidate","args","Array","isValue","isPlainFunction","assign","normalizeOpts","contains","dscr","w","desc","gs","isFunction","classRe","functionToString","isPrototype","isObject","constructor","possibleTypes","foo","bar","trzy","dest","TypeError","process","opts1","String","str","searchString","controlEl","backwardBtn","backward","createImgBtn","forwardBtn","forward","progressEl","nextBtn","prevBtn","prev","INDEXDB","mydb","version","db","keypath","indexedDB","webkitindexedDB","IDBKeyRange","webkitIDBKeyRange","request","onsuccess","onupgradeneeded","transaction","objectStoreNames","createObjectStore","keyPath","deleteDatabase","storename","store","objectStore","add","put","delete","clear"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","import Player from 'xgplayer'\nimport Lyric from './lyric'\nimport Analyze from './analyze'\nimport Xhr from './xhr'\nimport Backward from './controls/backward.js'\nimport Cover from './controls/cover.js'\nimport Forward from './controls/forward.js'\nimport Meta from './controls/meta.js'\nimport Next from './controls/next.js'\nimport Prev from './controls/prev.js'\nimport Database from './database'\n\nlet mode\nlet timeScale = 15\n\nconst util = Player.util\n\nclass Music extends Player {\n  constructor (options) {\n    let opts = util.deepCopy({\n      controls: true,\n      mediaType: 'audio',\n      ignores: ['fullscreen', 'start', 'definition', 'makeBullet', 'textTrack', 'loading', 'pc', 'mobile', 'playbackRate', 'replay', 'error', 'poster']\n    }, options)\n    if (!opts.volumeShow) {\n      opts.ignores.push('volume')\n    }\n    super(opts)\n    let player = this\n    player.database = new Database()\n\n    if(player.config.ignores.indexOf('backward') < 0) {\n      new Backward(player)\n    }\n    if(player.config.ignores.indexOf('cover') < 0) {\n      new Cover(player)\n    }\n    if(player.config.ignores.indexOf('forward') < 0) {\n      new Forward(player)\n    }\n    if(player.config.ignores.indexOf('meta') < 0) {\n      new Meta(player)\n    }\n    if(player.config.ignores.indexOf('next') < 0) {\n      new Next(player)\n    }\n    if(player.config.ignores.indexOf('prev') < 0) {\n      new Prev(player)\n    }\n\n    this.rawConfig = options\n    this.list = util.typeOf(opts.url) === 'Array' ? opts.url : [{\n      src: opts.url,\n      name: opts.name,\n      vid: opts.vid,\n      poster: opts.poster\n    }]\n    this.name = this.list[0].name\n    this.vid = this.list[0].vid\n    this.poster = this.list[0].poster\n    this.nextIndex = 1\n    this.prevIndex = this.list.length - 1\n    this.halfPass = false\n    this.history = []\n    this.index = 0\n    if (!opts.controls) {\n      this.root.style.display = 'none'\n      return\n    }\n\n    util.addClass(this.root, 'xgplayer-music')\n    if (!opts.width) {\n      this.config.width = '100%'\n      this.root.style.width = '100%'\n    }\n    if (!opts.height) {\n      this.config.height = '50px'\n      this.root.style.height = '50px'\n    }\n    Object.defineProperty(this, 'src', {\n      get () {\n        return this.video.currentSrc\n      },\n      set (v) {\n        let cur = util.typeOf(v) === 'String' ? {src: v, name: ''} : v\n        this.history.push(cur)\n        this.video.src = cur.src\n      },\n      configurable: true\n    })\n    if (this.config.autoplayMuted) {\n      this.config.volume = this.config.autoplay ? 0 : this.config.volume\n    }\n    this.once('ready', () => {\n      util.addClass(player.root, 'xgplayer-skin-default')\n      if(this.config.lang && this.config.lang === 'en') {\n        util.addClass(this.root, 'xgplayer-lang-is-en')\n      } else if(this.config.lang === 'jp') {\n        util.addClass(this.root, 'xgplayer-lang-is-jp')\n      }\n    })\n    this.once('canplay', function () {\n      if (this.config.autoplay && this.config.autoplayMuted) {\n        this.volume = 0\n      } else {\n        this.volume = this.config.volume\n      }\n      if(this.config.abCycle) {\n        if(typeof this.addProgressDot === 'function') {\n          this.addProgressDot(this.config.abCycle.start || 0)\n          this.addProgressDot(this.config.abCycle.end || this.duration)\n        }\n      }\n    })\n    this.on('timeupdate', () => {\n      if (!this.halfPass && this.currentTime > this.duration / 2) {\n        this.confirmOrder()\n      }\n      if(this.config.abCycle) {\n        if(this.currentTime >= (this.config.abCycle.end || this.duration)) {\n          if(!this.config.abCycle.loop) {\n            this.pause()\n            this.emit('abCycle ended')\n          }\n          this.currentTime = this.config.abCycle.start || 0\n        } else if(this.currentTime < (this.config.abCycle.start || 0)) {\n          this.currentTime = this.config.abCycle.start || 0\n        }\n      }\n    })\n    this.on('ended', () => {\n      if(this.config.abCycle) {\n        if(this.config.abCycle.loop) {\n          this.change()\n        }\n        return\n      }\n      if (this.mode === 'order' && this.index + 1 >= this.list.length) {\n        if(!this.config.musicOrderEnd) {\n          this.once('playing', () => {\n            this.pause()\n          })\n          this.currentTime = 0\n        }\n        return\n      }\n      switch (this.mode) {\n        case 'sloop':\n          this.change()\n          break\n        case 'order':\n        case 'loop':\n        default:\n          this.next()\n          break\n      }\n    })\n    if (!this.config.segPlay) {\n      this.checkOffline(player.list[0].src, player.list[0].vid || player.list[0].name).then(url => {\n        player.config.url = url\n        player.start(url)\n      })\n    }\n  }\n  lyric (lyricTxts, Dom) {\n    if (this.__lyric__) {\n      this.__lyric__.unbind(this)\n    }\n    if (Player.util.typeOf(lyricTxts) !== 'Array') {\n      lyricTxts = [].concat(lyricTxts)\n    }\n    this.__lyric__ = new Lyric(lyricTxts, Dom, this.config.lyricOpts || {})\n    this.__lyric__.bind(this)\n    return this.__lyric__\n  }\n  confirmOrder () {\n    let player = this\n    this.halfPass = true\n    this.nextComput()\n    this.prevComput()\n    if (this.config.preloadNext) {\n      this.checkOffline(this.list[this.nextIndex].src, this.list[this.nextIndex].vid || this.list[this.nextIndex].name).then(url => {\n        if (url.indexOf('blob:') < 0) {\n          let offlineVid = player.list[player.nextIndex].vid || player.list[player.nextIndex].name\n          let xhr = new Xhr(player.list[player.nextIndex].src, res => {\n            player.database.openDB(() => {\n              player.database.addData(player.database.myDB.ojstore.name, [{vid: offlineVid, blob: new Blob([res], {type: 'audio/mp4; codecs=\"mp4a.40.5\"'})}])\n              setTimeout(() => {\n                player.database.closeDB()\n              }, 5000)\n            })\n          })\n        }\n      })\n    }\n  }\n\n  get mode () {\n    return mode || Music.ModeType[2]\n  }\n  set mode (idx) {\n    switch (idx) {\n      case 0:\n      case 1:\n      case 2:\n      case 3:\n        mode = Music.ModeType[idx]\n    }\n    this.confirmOrder()\n  }\n\n  nextComput () {\n    switch (this.mode) {\n      case 'sloop':\n      case 'order':\n      case 'loop':\n        if (this.index + 1 < this.list.length) {\n          this.nextIndex = this.index + 1\n        } else {\n          this.nextIndex = 0\n        }\n        break\n      default:\n        this.nextIndex = Math.ceil(Math.random() * this.list.length)\n        break\n    }\n  }\n  prevComput () {\n    switch (this.mode) {\n      case 'sloop':\n      case 'order':\n      case 'loop':\n        if (this.index - 1 >= 0) {\n          this.prevIndex = this.index - 1\n        } else {\n          this.prevIndex = this.list.length - 1\n        }\n        break\n      default:\n        this.prevIndex = Math.ceil(Math.random() * this.list.length)\n        break\n    }\n  }\n  get timeScale () {\n    return timeScale || 15\n  }\n  set timeScale (scale) {\n    timeScale = scale\n  }\n\n  add (meta) {\n    this.list.push({\n      src: meta.src,\n      name: meta.name,\n      vid: meta.vid,\n      poster: meta.poster\n    })\n  }\n  remove (url) {\n    let idx = -1\n    this.list.every((item, index) => {\n      if (item.src === url || item.name === url || item.vid === url) {\n        idx = index\n        return false\n      } else {\n        return true\n      }\n    })\n    if (idx > -1) {\n      this.list.splice(idx, 1)\n    }\n  }\n  updateList (list = []) {\n    this.removeAbCycle()\n    this.pause()\n    this.currentTime = 0\n    this.list = list\n    this.nextIndex = 0\n    this.index = 0\n    this.change()\n  }\n  change () {\n    let self = this\n    let offlineVid = self.list[self.index].vid || self.list[self.index].name\n    this.halfPass = false\n    this.checkOffline(self.list[self.index].src, offlineVid).then(url => {\n      if (Player.m4a) {\n        self.video.load()\n        self.name = self.list[self.index].name\n        self.vid = self.list[self.index].vid\n        self.poster = self.list[self.index].poster\n        self.emit('change', {src: url, name: self.name, vid: self.vid, poster: self.poster})\n      } else {\n        self.video.pause()\n        if(this.config.switchKeepProgress && !this.ended) {\n          let currentTime = self.currentTime\n          this.once('playing', () => {\n            self.currentTime = currentTime\n          })\n        } else {\n          self.currentTime = 0\n        }\n        self.src = url\n        self.name = self.list[self.index].name\n        self.vid = self.list[self.index].vid\n        self.poster = self.list[self.index].poster\n        setTimeout(() => {\n          self.video.play().then(() => {\n            self.emit('change', {src: url, name: self.name, vid: self.vid, poster: self.poster})\n          })\n        }, 60)\n      }\n    })\n  }\n  checkOffline (url, offlineVid) {\n    let self = this\n    return new Promise((resolve) => {\n      if (!self.config.offline) {\n        resolve(url)\n      }\n      self.database.openDB(() => {\n        self.database.getDataByKey(self.database.myDB.ojstore.name, offlineVid, result => {\n          setTimeout(() => {\n            self.database.closeDB()\n          }, 5000)\n          if (result) {\n            resolve(URL.createObjectURL(result.blob))\n          } else {\n            resolve(url)\n          }\n        })\n      })\n    })\n  }\n  next () {\n    if (!this.halfPass) {\n      this.halfPass = true\n      this.nextComput()\n    }\n    this.index = this.nextIndex\n    this.change()\n  }\n  prev () {\n    if (!this.halfPass) {\n      this.halfPass = true\n      this.prevComput()\n    }\n    this.index = this.prevIndex\n    this.change()\n  }\n  setIndex (index = 0) {\n    this.nextIndex = index\n    this.index = index\n    this.change()\n  }\n  forward () {\n    // console.log(`music go forward ${timeScale}s`)\n    this.currentTime = this.currentTime + timeScale < this.duration ? this.currentTime + timeScale : this.duration - 0.1\n  }\n  backward () {\n    // console.log(`music go backward ${timeScale}s`)\n    this.currentTime = this.currentTime - timeScale > 0 ? this.currentTime - timeScale : 0\n  }\n  analyze (canvas) {\n    return new Analyze(this, canvas)\n  }\n  setAbCycle(start, end, loop) {\n    this.config.abCycle = {\n      start: start || 0,\n      end: end || this.duration,\n      loop\n    }\n    if(typeof this.removeAllProgressDot === 'function') {\n      this.removeAllProgressDot()\n    }\n    if(typeof this.addProgressDot === 'function') {\n      this.addProgressDot(this.config.abCycle.start)\n      this.addProgressDot(this.config.abCycle.end)\n    }\n  }\n  removeAbCycle() {\n    this.config.abCycle = null\n    if(typeof this.removeAllProgressDot === 'function') {\n      this.removeAllProgressDot()\n    }\n  }\n  static get AudioCtx () {\n    return window.AudioContext || window.webkitAudioContext\n  }\n  static get ModeType () {\n    return ['order', 'random', 'loop', 'sloop']\n  }\n}\n\nexport default Music\nexport {\n  Lyric,\n  Analyze\n}\n","\"use strict\";\n\nvar _undefined = require(\"../function/noop\")(); // Support ES3 engines\n\nmodule.exports = function (val) { return val !== _undefined && val !== null; };\n","(function() { module.exports = window[\"Player\"]; }());","\"use strict\";\n\n// ES3 safe\nvar _undefined = void 0;\n\nmodule.exports = function (value) { return value !== _undefined && value !== null; };\n","import './theme.scss'\nimport Music from './music'\nexport default Music\n","\nvar content = require(\"!!../node_modules/css-loader/index.js??ref--5-1!../node_modules/postcss-loader/src/index.js!../node_modules/sass-loader/lib/loader.js!./theme.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js??ref--5-1!../node_modules/postcss-loader/src/index.js!../node_modules/sass-loader/lib/loader.js!./theme.scss\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js??ref--5-1!../node_modules/postcss-loader/src/index.js!../node_modules/sass-loader/lib/loader.js!./theme.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".xgplayer-skin-default.xgplayer-music .xgplayer-controls{display:-webkit-box;display:-ms-flexbox;display:flex;height:50px;cursor:default}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-backward,.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-backward-img{-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0;cursor:pointer}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-backward-img .xgplayer-icon,.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-backward .xgplayer-icon{margin-top:4px}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-backward-img:hover,.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-backward:hover{opacity:.85}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-prev,.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-prev-img{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;cursor:pointer}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-prev-img .xgplayer-icon,.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-prev .xgplayer-icon{margin-top:3px}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-prev-img:hover,.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-prev:hover{opacity:.85}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-play,.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-play-img{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2;margin:1px -5px 0}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-play-img .xgplayer-tips,.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-play .xgplayer-tips{display:none}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-next,.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-next-img{-webkit-box-ordinal-group:4;-ms-flex-order:3;order:3;cursor:pointer}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-next-img .xgplayer-icon,.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-next .xgplayer-icon{margin-top:3px}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-next-img:hover,.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-next:hover{opacity:.85}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-forward,.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-forward-img{-webkit-box-ordinal-group:5;-ms-flex-order:4;order:4;cursor:pointer}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-forward-img .xgplayer-icon,.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-forward .xgplayer-icon{margin-top:4px}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-forward-img:hover,.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-forward:hover{opacity:.85}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-volume{-webkit-box-ordinal-group:6;-ms-flex-order:5;order:5;cursor:pointer}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-volume .xgplayer-icon{bottom:-13px}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-cover{position:static;-webkit-box-ordinal-group:7;-ms-flex-order:6;order:6;width:40px;height:40px;text-align:center;vertical-align:middle;position:relative;top:50%;margin-top:-17px}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-cover img{max-width:100%;max-height:100%}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-progress{position:relative;-webkit-box-ordinal-group:8;-ms-flex-order:7;order:7;top:70%;left:20px;margin-top:-11px;-webkit-box-flex:99;-ms-flex:99;flex:99}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-progress .xgplayer-name{position:absolute;left:0;top:-120%;font-size:12px;color:#ddd}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-progress>*{height:3px;margin-top:8.5px}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-progress .xgplayer-progress-played:after{top:-4px;width:10px;height:10px;content:\\\" \\\";display:block}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-progress .xgplayer-tips{display:none!important}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-progress:focus .xgplayer-progress-btn,.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-progress:hover .xgplayer-progress-btn{top:-5px}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-time{-webkit-box-ordinal-group:9;-ms-flex-order:8;order:8;line-height:1;position:relative;margin:0 8px 0 30px;top:55%}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-placeholder{-webkit-box-ordinal-group:1000;-ms-flex-order:999;order:999;width:0}.xgplayer-skin-default.xgplayer-music .xgplayer-controls .xgplayer-icon{padding-top:5px}.xgplayer-skin-default.xgplayer-music.xgplayer-ended .xgplayer-controls,.xgplayer-skin-default.xgplayer-music.xgplayer-nostart .xgplayer-controls{display:-webkit-box;display:-ms-flexbox;display:flex}.xgplayer-lyric-item{display:block;line-height:22px;font-size:14px;color:#000}.xgplayer-lyric-item.xgplayer-lyric-item-active{color:#7fffd4}.xgplayer-lrcWrap{overflow:auto;height:300px;border:1px solid #ddd;padding:20px}.xgplayer-lrcForward{top:20%;border-width:0 10px 10px;border-color:transparent transparent #333}.xgplayer-lrcBack,.xgplayer-lrcForward{position:absolute;left:300px;cursor:pointer;width:0;height:0;border-style:solid}.xgplayer-lrcBack{top:80%;border-width:10px 10px 0;border-color:#333 transparent transparent}\", \"\"]);\n\n// exports\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target) {\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\toptions.attrs.type = \"text/css\";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","import Player from 'xgplayer'\n\nclass LyricTime {\n  constructor (timeTxt) {\n    this.regRule = /(\\d{2}(?=:)):(\\d{2}(?=\\.))\\.(\\d{2,3})/g\n    if (this.regRule.test(timeTxt)) {\n      this.time = RegExp.$1 * 60 + RegExp.$2 * 1 + ('0.' + RegExp.$3) * 1\n    } else {\n      this.time = -1\n    }\n  }\n}\n\nexport {LyricTime}\n\nclass Lyric {\n  constructor (txts, dom, options) {\n    this.rawTxts = txts\n    this.txts = txts.map((item) => { return item.replace(/^[\\r\\n]|[\\r\\n]$/g, '').match(/(\\[.*\\])[^[]+/g) })\n    this.isDynamics = txts.map((item, idx) => {\n      return [].concat(item.match(/\\[\\d{2}:\\d{2}\\.\\d{2,3}\\]/g)).length > 0 && this.txts[idx].length === this.txts[0].length && this.txts[idx].length > 1\n    })\n    this.isDynamic = this.isDynamics.some((item) => {\n      return item\n    })\n    this.__ainimateInterval__ = 0\n    this.__offset__ = 0\n    this.__offsetScale__ = 0.5\n    this.dom = dom\n    this.lists = []\n    this.isDynamics.map((item, idx) => {\n      if (item) {\n        this.lists.push(\n          this.txts[idx].map((txt, index) => {\n            const reg = /(\\[[\\d:\\S]+\\])([^[]+)/g.test(txt)\n            const time = RegExp.$1\n            const lyric = RegExp.$2\n            return {\n              time: reg ? new LyricTime(time).time : -1,\n              lyric,\n              idx: index\n            }\n          })\n        )\n      }\n    })\n    this.list = this.lists.reduce((pre, cur) => {\n      return pre.map((item, idx) => {\n        return {\n          time: item.time,\n          lyric: item.lyric === '\\n' ? `${item.lyric}${cur[idx].lyric}` : `${item.lyric}<br/>${cur[idx].lyric}`,\n          idx\n        }\n      })\n    }).filter(item => {\n      if(options.removeBlankLine) return item.lyric !== '\\r\\n' && item.lyric !== '\\n' && item.lyric !== ''\n      else return true\n    })\n\n    this.line = 0\n  }\n  set interval (val) {\n    this.__ainimateInterval__ = val\n  }\n  get interval () {\n    return this.__ainimateInterval__\n  }\n  set offset (val) {\n    this.__offset__ = val\n  }\n  get offset () {\n    return this.__offset__\n  }\n  set offsetScale (val) {\n    this.__offsetScale__ = val\n  }\n  get offsetScale () {\n    return this.__offsetScale__\n  }\n  adjust () {\n    let list = this.list\n    for (let i = 0, j, k, len = list.length; i < len; i++) {\n      for (j = i + 1; j < len; j++) {\n        if (list[j].time > list[i].time) {\n          break\n        }\n      }\n      if (j < len) {\n        let sep = (list[j].time - list[i].time) / (j - i)\n        for (k = i + 1; k < j; k++) {\n          list[k].time = list[k - 1].time + sep\n        }\n      }\n    }\n  }\n  find (curTime) {\n    const list = this.list\n    const interval = this.__ainimateInterval__\n    const offset = this.__offset__\n    curTime = curTime + offset > 0 ? curTime + offset : 0\n    return list.filter(({time}, idx) => {\n      let idxy = idx + 1\n      return curTime >= time && ((list[idxy] && curTime * 1 + interval * 1 <= list[idxy].time) || (idxy >= list.length))\n    })\n  }\n  bind (player) {\n    let self = this\n    this.__player__ = player\n    if (self.isDynamic) {\n      self.__handle__ = (() => {\n        const f = this.find(player.currentTime)[0]\n        if (f && f.idx !== this.line) {\n          this.line = f.idx\n          player.emit('lyricUpdate', f)\n        }\n      }).bind(self, player)\n      player.on('timeupdate', self.__handle__)\n\n      self.__startHandle__ = (() => {\n        player.emit('lyricUpdate', self.list[0])\n      }).bind(self, player)\n      player.once('playing', self.__startHandle__)\n      //\n      // self.__endHandle__ = (() => {\n      //   player.emit('lyricUpdate', self.list[self.list.length - 1])\n      // }).bind(self, player)\n      // player.on('ended', self.__endHandle__)\n      return true\n    } else {\n      return false\n    }\n  }\n  unbind (player) {\n    delete this.__player__\n    if (this.__handle__) {\n      player.off('lyricUpdate', this.__handle__)\n      delete this.__handle__\n    }\n  }\n  show () {\n    let dom = this.dom\n    let lyrbicTxts = []\n    let self = this\n    const ev = ['click', 'touchstart']\n    if (dom && dom.nodeType === 1) {\n      const lrcWrap = Player.util.createDom('div', `<div></div>`, {}, 'xgplayer-lrcWrap')\n      dom.appendChild(lrcWrap)\n      this.list.forEach(item => {\n        lyrbicTxts.push(`<xg-lyric-item class=\"xgplayer-lyric-item\" data-idx=\"${item.idx}\">${item.lyric.replace(/[\\r\\n]/g, '')}</xg-lyric-item>`)\n      })\n      lrcWrap.innerHTML = lyrbicTxts.join('')\n      const lrcForward = Player.util.createDom('xg-lrcForward', `<div></div>`, {}, 'xgplayer-lrcForward')\n      dom.appendChild(lrcForward)\n      ev.forEach(item => {\n        lrcForward.addEventListener(item, function (e) {\n          e.preventDefault()\n          e.stopPropagation()\n          self.offset -= self.offsetScale\n          console.log(`lyric go forward ${self.offsetScale}s`)\n        }, false)\n      })\n\n      const lrcBack = Player.util.createDom('xg-lrcBack', `<div></div>`, {}, 'xgplayer-lrcBack')\n      dom.appendChild(lrcBack)\n      ev.forEach(item => {\n        lrcBack.addEventListener(item, function (e) {\n          e.preventDefault()\n          e.stopPropagation()\n          self.offset += self.offsetScale\n          console.log(`lyric go back ${self.offsetScale}s`)\n        }, false)\n      })\n      this.__updateHandle__ = (item) => {\n        let domWrap = this.dom.querySelector('.xgplayer-lrcWrap')\n        let activeDom = domWrap.querySelector('.xgplayer-lyric-item-active')\n        let offsetHeight = domWrap.offsetHeight\n        let activeTop\n        if (activeDom) {\n          activeDom.className = 'xgplayer-lyric-item'\n        }\n        activeDom = domWrap.querySelector(`.xgplayer-lyric-item[data-idx=\"${item.idx}\"]`)\n        if (activeDom) {\n          activeDom.className = 'xgplayer-lyric-item xgplayer-lyric-item-active'\n          activeTop = (activeDom.getBoundingClientRect().top - domWrap.getBoundingClientRect().top + domWrap.scrollTop - offsetHeight / 2)\n          if (activeTop) {\n            domWrap.scrollTop = activeTop\n          }\n        }\n      }\n      this.__player__.on('lyricUpdate', this.__updateHandle__)\n    } else {\n      this.__player__.emit('error', 'lyric container can not be empty')\n    }\n  }\n  hide () {\n    this.__updateHandle__.off('lyricUpdate', this.__updateHandle__)\n  }\n}\n\nexport default Lyric\n","import {\n  requestAnimationFrame as req, cancelAnimationFrame as cancel, isSqrt, Color\n} from './util'\n\nclass Analyze {\n  constructor (player, canvas) {\n    this.canvas = canvas\n    this.player = player\n    if (!Analyze.AudioCtx) {\n      return\n    }\n    const audioCtx = new Analyze.AudioCtx()\n    let analyser = audioCtx.createAnalyser()\n    let gainNode = audioCtx.createGain()\n    analyser.minDecibels = -90\n    analyser.maxDecibels = -10\n    analyser.smoothingTimeConstant = 0.85\n    gainNode.gain.setValueAtTime(player.volume, player.currentTime)\n    this.er = audioCtx.createMediaElementSource(player.video)\n    this.analyser = analyser\n    this.ctx = canvas.getContext('2d')\n    this.er.connect(analyser)\n    analyser.connect(gainNode)\n    gainNode.connect(audioCtx.destination)\n\n    this.style = {\n      bgColor: '#c8c8c8',\n      color: '#643232'\n    }\n    this.__type__ = 'bars'\n    this.__size__ = 256\n    this.__status__ = {\n      switch: 'on'\n    };\n    ['play', 'playing', 'seeked'].forEach(name => {\n      player.on(name, () => {\n        this[`__${this.__type__}__`]()\n      })\n    });\n    ['seeking', 'waiting', 'pause', 'ended'].forEach(name => {\n      cancel(this.__status__[this.__type__])\n    })\n    player.on('volumechange', () => {\n      gainNode.gain.setValueAtTime(player.volume, player.currentTime)\n    })\n    player.on('destroy', () => {\n      audioCtx.close()\n    })\n  }\n\n  __wave__ () {\n    cancel(this.__status__['wave'])\n    cancel(this.__status__['bars'])\n    if (this.__status__.switch === 'off') {\n      return\n    }\n    let analyser = this.analyser\n    let canvas = this.canvas\n    let ctx = this.ctx\n    let bufferLen = analyser.frequencyBinCount\n    let dataArray = new Uint8Array(bufferLen)\n    const WIDTH = canvas.width\n    const HEIGHT = canvas.height\n    const color = new Color(this.style.color).toRGB()\n    const bgColor = new Color(this.style.bgColor).toRGB()\n    analyser.fftSize = this.__size__\n    const draw = () => {\n      this.__status__['wave'] = req(draw)\n      analyser.getByteTimeDomainData(dataArray)\n      ctx.clearRect(0, 0, WIDTH, HEIGHT)\n      ctx.fillStyle = bgColor\n      ctx.lineWidth = 2\n      ctx.strokeStyle = color\n      ctx.beginPath()\n      const sliceWidth = WIDTH * 1.0 / bufferLen\n      let x = 0\n      for (let i = 0; i < bufferLen; i++) {\n        let v = dataArray[i] / 128.0\n        let y = v * HEIGHT / 2\n        if (i === 0) {\n          ctx.moveTo(x, y)\n        } else {\n          ctx.lineTo(x, y)\n        }\n        x += sliceWidth\n      }\n      ctx.lineTo(canvas.width, canvas.height / 2)\n      ctx.stroke()\n    }\n    draw()\n  }\n  __bars__ () {\n    cancel(this.__status__['wave'])\n    cancel(this.__status__['bars'])\n    if (this.__status__.switch === 'off') {\n      return\n    }\n    let analyser = this.analyser\n    let canvas = this.canvas\n    let ctx = this.ctx\n    let bufferLen = analyser.frequencyBinCount\n    let dataArray = new Uint8Array(bufferLen)\n    const WIDTH = canvas.width\n    const HEIGHT = canvas.height\n    const color = new Color(this.style.color).toArray()\n    const bgColor = new Color(this.style.bgColor).toRGB()\n    analyser.fftSize = this.__size__\n\n    const draw = () => {\n      this.__status__['bars'] = req(draw)\n      analyser.getByteFrequencyData(dataArray)\n      ctx.clearRect(0, 0, WIDTH, HEIGHT)\n      ctx.fillStyle = bgColor\n      ctx.fillRect(0, 0, WIDTH, HEIGHT)\n      const barWidth = (WIDTH / bufferLen) * 2.5\n      let barHeight\n      let x = 0\n      for (var i = 0; i < bufferLen; i++) {\n        barHeight = dataArray[i]\n        ctx.fillStyle = `rgb(${color[0]},${color[1]},${color[2]})`\n        ctx.fillRect(x, HEIGHT - barHeight / 2, barWidth, barHeight / 2)\n        x += barWidth + 1\n      }\n    }\n    draw()\n  }\n  on () {\n    this.__status__.switch = 'on'\n    this[`__${this.__type__}__`]()\n  }\n  off () {\n    this.__status__.switch = 'off'\n    cancel(this.__status__['wave'])\n    cancel(this.__status__['bars'])\n  }\n  set mode (mode) {\n    if (Analyze.Mode.filter(item => item === mode).length) {\n      this.__type__ = mode\n      if (this.__status__.switch === 'on') {\n        this[`__${mode}__`]()\n      }\n    }\n  }\n  get mode () {\n    return this.__type__\n  }\n  set size (num) {\n    if (num < 65536 && isSqrt(num, 2)) {\n      this.__size__ = num\n      this.analyser.fftSize = num\n      this[`__${this.__type__}__`]()\n    }\n  }\n  get size () {\n    return this.__size__\n  }\n  get status () {\n    return this.__status__.switch\n  }\n  static get AudioCtx () {\n    return window.AudioContext || window.webkitAudioContext\n  }\n  static get Mode () {\n    return ['wave', 'bars']\n  }\n}\n\nexport default Analyze\n","// @filename https://gist.github.com/chaping/88813f56e75b0fd43f8c\nlet lastTime = 0\nconst prefixes = 'webkit moz ms o'.split(' ') // 各浏览器前缀\n\nlet requestAnimationFrame = window.requestAnimationFrame\nlet cancelAnimationFrame = window.cancelAnimationFrame\n\nvar prefix\n// 通过遍历各浏览器前缀，来得到requestAnimationFrame和cancelAnimationFrame在当前浏览器的实现形式\nfor (var i = 0; i < prefixes.length; i++) {\n  if (requestAnimationFrame && cancelAnimationFrame) {\n    break\n  }\n  prefix = prefixes[i]\n  requestAnimationFrame = requestAnimationFrame || window[prefix + 'RequestAnimationFrame']\n  cancelAnimationFrame = cancelAnimationFrame || window[prefix + 'CancelAnimationFrame'] || window[prefix + 'CancelRequestAnimationFrame']\n}\n\n// 如果当前浏览器不支持requestAnimationFrame和cancelAnimationFrame，则会退到setTimeout\nif (!requestAnimationFrame || !cancelAnimationFrame) {\n  requestAnimationFrame = function (callback, element) {\n    var currTime = new Date().getTime()\n    // 为了使setTimteout的尽可能的接近每秒60帧的效果\n    var timeToCall = Math.max(0, 16 - (currTime - lastTime))\n    var id = window.setTimeout(function () {\n      callback.call(currTime + timeToCall)\n    }, timeToCall)\n    lastTime = currTime + timeToCall\n    return id\n  }\n\n  cancelAnimationFrame = function (id) {\n    window.clearTimeout(id)\n  }\n}\n\nlet isSqrt = function (num, base) {\n  if (num !== 1) {\n    while (num !== 1) {\n      if (num % base === 0) {\n        num = num / base\n      } else {\n        return false\n      }\n    }\n    return true\n  } else {\n    return true\n  }\n}\n\nclass Color {\n  constructor (color, opacity = 1) {\n    this.color = Color.Valid.test(color) ? color : '#ffffff'\n    this.opacity = opacity\n  }\n  toArray () {\n    let color = this.color.slice(1)\n    let rgb = []\n    if (color.length === 6) {\n      for (let i = 0; i < 6; i += 2) {\n        rgb.push(Number('0x' + color.slice(i, i + 2)))\n      }\n    } else {\n      console.error('the color value is not valid')\n    }\n    return rgb\n  }\n  toRGB () {\n    let rgb = this.toArray()\n    return rgb.length === 3 ? `rgb(${rgb[0]},${rgb[1]},${rgb[2]})` : ''\n  }\n  toGRBA () {\n    let rgb = this.toArray()\n    return rgb.length === 3 ? `rgba(${rgb[0]},${rgb[1]},${rgb[2]},${this.opacity})` : ''\n  }\n  static get Valid () {\n    return /^#[0-9A-F]{6}$|^#[0-9A-F]{3}$/i\n  }\n}\n\nexport default {\n  requestAnimationFrame,\n  cancelAnimationFrame,\n  isSqrt,\n  Color\n}\n","import EventEmitter from 'event-emitter'\n\nclass Xhr {\n  constructor (url, callback) {\n    EventEmitter(this)\n    this.url = url\n    let xhr = new window.XMLHttpRequest()\n    xhr.target = this\n    xhr.responseType = 'arraybuffer'\n    xhr.open('get', url)\n    xhr.onload = function () {\n      if (xhr.status === 200 || xhr.status === 206) {\n        if (callback && callback instanceof Function) {\n          callback(xhr.response)\n        }\n      }\n    }\n    xhr.onerror = function (e) {\n      xhr.target.emit('error' + e.message)\n    }\n    this.xhr = xhr\n    this.run()\n  }\n  cancel () {\n    this.xhr.abort()\n  }\n\n  run () {\n    if (this.xhr.readyState === 1) {\n      this.xhr.send()\n    }\n  }\n}\n\nexport default Xhr\n","'use strict';\n\nvar d        = require('d')\n  , callable = require('es5-ext/object/valid-callable')\n\n  , apply = Function.prototype.apply, call = Function.prototype.call\n  , create = Object.create, defineProperty = Object.defineProperty\n  , defineProperties = Object.defineProperties\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , descriptor = { configurable: true, enumerable: false, writable: true }\n\n  , on, once, off, emit, methods, descriptors, base;\n\non = function (type, listener) {\n\tvar data;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) {\n\t\tdata = descriptor.value = create(null);\n\t\tdefineProperty(this, '__ee__', descriptor);\n\t\tdescriptor.value = null;\n\t} else {\n\t\tdata = this.__ee__;\n\t}\n\tif (!data[type]) data[type] = listener;\n\telse if (typeof data[type] === 'object') data[type].push(listener);\n\telse data[type] = [data[type], listener];\n\n\treturn this;\n};\n\nonce = function (type, listener) {\n\tvar once, self;\n\n\tcallable(listener);\n\tself = this;\n\ton.call(this, type, once = function () {\n\t\toff.call(self, type, once);\n\t\tapply.call(listener, this, arguments);\n\t});\n\n\tonce.__eeOnceListener__ = listener;\n\treturn this;\n};\n\noff = function (type, listener) {\n\tvar data, listeners, candidate, i;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return this;\n\tdata = this.__ee__;\n\tif (!data[type]) return this;\n\tlisteners = data[type];\n\n\tif (typeof listeners === 'object') {\n\t\tfor (i = 0; (candidate = listeners[i]); ++i) {\n\t\t\tif ((candidate === listener) ||\n\t\t\t\t\t(candidate.__eeOnceListener__ === listener)) {\n\t\t\t\tif (listeners.length === 2) data[type] = listeners[i ? 0 : 1];\n\t\t\t\telse listeners.splice(i, 1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif ((listeners === listener) ||\n\t\t\t\t(listeners.__eeOnceListener__ === listener)) {\n\t\t\tdelete data[type];\n\t\t}\n\t}\n\n\treturn this;\n};\n\nemit = function (type) {\n\tvar i, l, listener, listeners, args;\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return;\n\tlisteners = this.__ee__[type];\n\tif (!listeners) return;\n\n\tif (typeof listeners === 'object') {\n\t\tl = arguments.length;\n\t\targs = new Array(l - 1);\n\t\tfor (i = 1; i < l; ++i) args[i - 1] = arguments[i];\n\n\t\tlisteners = listeners.slice();\n\t\tfor (i = 0; (listener = listeners[i]); ++i) {\n\t\t\tapply.call(listener, this, args);\n\t\t}\n\t} else {\n\t\tswitch (arguments.length) {\n\t\tcase 1:\n\t\t\tcall.call(listeners, this);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tcall.call(listeners, this, arguments[1]);\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tcall.call(listeners, this, arguments[1], arguments[2]);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tl = arguments.length;\n\t\t\targs = new Array(l - 1);\n\t\t\tfor (i = 1; i < l; ++i) {\n\t\t\t\targs[i - 1] = arguments[i];\n\t\t\t}\n\t\t\tapply.call(listeners, this, args);\n\t\t}\n\t}\n};\n\nmethods = {\n\ton: on,\n\tonce: once,\n\toff: off,\n\temit: emit\n};\n\ndescriptors = {\n\ton: d(on),\n\tonce: d(once),\n\toff: d(off),\n\temit: d(emit)\n};\n\nbase = defineProperties({}, descriptors);\n\nmodule.exports = exports = function (o) {\n\treturn (o == null) ? create(base) : defineProperties(Object(o), descriptors);\n};\nexports.methods = methods;\n","\"use strict\";\n\nvar isValue         = require(\"type/value/is\")\n  , isPlainFunction = require(\"type/plain-function/is\")\n  , assign          = require(\"es5-ext/object/assign\")\n  , normalizeOpts   = require(\"es5-ext/object/normalize-options\")\n  , contains        = require(\"es5-ext/string/#/contains\");\n\nvar d = (module.exports = function (dscr, value/*, options*/) {\n\tvar c, e, w, options, desc;\n\tif (arguments.length < 2 || typeof dscr !== \"string\") {\n\t\toptions = value;\n\t\tvalue = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[2];\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t\tw = contains.call(dscr, \"w\");\n\t} else {\n\t\tc = w = true;\n\t\te = false;\n\t}\n\n\tdesc = { value: value, configurable: c, enumerable: e, writable: w };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n});\n\nd.gs = function (dscr, get, set/*, options*/) {\n\tvar c, e, options, desc;\n\tif (typeof dscr !== \"string\") {\n\t\toptions = set;\n\t\tset = get;\n\t\tget = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[3];\n\t}\n\tif (!isValue(get)) {\n\t\tget = undefined;\n\t} else if (!isPlainFunction(get)) {\n\t\toptions = get;\n\t\tget = set = undefined;\n\t} else if (!isValue(set)) {\n\t\tset = undefined;\n\t} else if (!isPlainFunction(set)) {\n\t\toptions = set;\n\t\tset = undefined;\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t} else {\n\t\tc = true;\n\t\te = false;\n\t}\n\n\tdesc = { get: get, set: set, configurable: c, enumerable: e };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n","\"use strict\";\n\nvar isFunction = require(\"../function/is\");\n\nvar classRe = /^\\s*class[\\s{/}]/, functionToString = Function.prototype.toString;\n\nmodule.exports = function (value) {\n\tif (!isFunction(value)) return false;\n\tif (classRe.test(functionToString.call(value))) return false;\n\treturn true;\n};\n","\"use strict\";\n\nvar isPrototype = require(\"../prototype/is\");\n\nmodule.exports = function (value) {\n\tif (typeof value !== \"function\") return false;\n\n\tif (!hasOwnProperty.call(value, \"length\")) return false;\n\n\ttry {\n\t\tif (typeof value.length !== \"number\") return false;\n\t\tif (typeof value.call !== \"function\") return false;\n\t\tif (typeof value.apply !== \"function\") return false;\n\t} catch (error) {\n\t\treturn false;\n\t}\n\n\treturn !isPrototype(value);\n};\n","\"use strict\";\n\nvar isObject = require(\"../object/is\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) return false;\n\ttry {\n\t\tif (!value.constructor) return false;\n\t\treturn value.constructor.prototype === value;\n\t} catch (error) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\nvar isValue = require(\"../value/is\");\n\n// prettier-ignore\nvar possibleTypes = { \"object\": true, \"function\": true, \"undefined\": true /* document.all */ };\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) return false;\n\treturn hasOwnProperty.call(possibleTypes, typeof value);\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.assign : require(\"./shim\");\n","\"use strict\";\n\nmodule.exports = function () {\n\tvar assign = Object.assign, obj;\n\tif (typeof assign !== \"function\") return false;\n\tobj = { foo: \"raz\" };\n\tassign(obj, { bar: \"dwa\" }, { trzy: \"trzy\" });\n\treturn obj.foo + obj.bar + obj.trzy === \"razdwatrzy\";\n};\n","\"use strict\";\n\nvar keys  = require(\"../keys\")\n  , value = require(\"../valid-value\")\n  , max   = Math.max;\n\nmodule.exports = function (dest, src /*, …srcn*/) {\n\tvar error, i, length = max(arguments.length, 2), assign;\n\tdest = Object(value(dest));\n\tassign = function (key) {\n\t\ttry {\n\t\t\tdest[key] = src[key];\n\t\t} catch (e) {\n\t\t\tif (!error) error = e;\n\t\t}\n\t};\n\tfor (i = 1; i < length; ++i) {\n\t\tsrc = arguments[i];\n\t\tkeys(src).forEach(assign);\n\t}\n\tif (error !== undefined) throw error;\n\treturn dest;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.keys : require(\"./shim\");\n","\"use strict\";\n\nmodule.exports = function () {\n\ttry {\n\t\tObject.keys(\"primitive\");\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\nvar isValue = require(\"../is-value\");\n\nvar keys = Object.keys;\n\nmodule.exports = function (object) { return keys(isValue(object) ? Object(object) : object); };\n","\"use strict\";\n\n// eslint-disable-next-line no-empty-function\nmodule.exports = function () {};\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) throw new TypeError(\"Cannot use null or undefined\");\n\treturn value;\n};\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar forEach = Array.prototype.forEach, create = Object.create;\n\nvar process = function (src, obj) {\n\tvar key;\n\tfor (key in src) obj[key] = src[key];\n};\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function (opts1 /*, …options*/) {\n\tvar result = create(null);\n\tforEach.call(arguments, function (options) {\n\t\tif (!isValue(options)) return;\n\t\tprocess(Object(options), result);\n\t});\n\treturn result;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? String.prototype.contains : require(\"./shim\");\n","\"use strict\";\n\nvar str = \"razdwatrzy\";\n\nmodule.exports = function () {\n\tif (typeof str.contains !== \"function\") return false;\n\treturn str.contains(\"dwa\") === true && str.contains(\"foo\") === false;\n};\n","\"use strict\";\n\nvar indexOf = String.prototype.indexOf;\n\nmodule.exports = function (searchString /*, position*/) {\n\treturn indexOf.call(this, searchString, arguments[1]) > -1;\n};\n","\"use strict\";\n\nmodule.exports = function (fn) {\n\tif (typeof fn !== \"function\") throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n","import Player from '../music'\n\nclass Backward {\n  constructor (player) {\n    const util = Player.util\n    const controlEl = player.controls\n    const ev = ['click', 'touchstart']\n    let backwardBtn = player.config.backwardBtn ? player.config.backwardBtn : {}\n    let backward\n    if (backwardBtn.type === 'img') {\n      backward = Player.util.createImgBtn('backward', backwardBtn.url, backwardBtn.width, backwardBtn.height)\n    } else {\n      backward = util.createDom('xg-backward', `<xg-icon class=\"xgplayer-icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" viewBox=\"0 0 40 40\">\n                <path transform = \"scale(1.5 1.5) translate(8 4.5)\"\n                d=\"m 14,2.99996 0,10 -7,-5 7,-5 z m -7,5 0,5 -7,-5 7,-5 0,5 z m -7,0 0,0 z\"></path>\n            </svg></xg-icon>`, {}, 'xgplayer-backward')\n    }\n    controlEl.appendChild(backward)\n    ev.forEach(item => {\n      backward.addEventListener(item, function (e) {\n        e.preventDefault()\n        e.stopPropagation()\n        player.backward()\n      }, false)\n    })\n  }\n}\n\nexport default Backward;\n","import Player from '../music'\n\nclass Cover {\n  constructor (player) {\n    const util = Player.util\n    const controlEl = player.controls\n    const poster = util.createDom('xg-cover', `<img src=\"${player.config.poster || player.config.url[0].poster}\">`, {}, 'xgplayer-cover')\n    controlEl.appendChild(poster)\n    player.on('change', item => {\n      if(item.poster) {\n        poster.innerHTML = `<img src=\"${item.poster}\">`\n      }\n    })\n  }\n}\n\nexport default Cover;\n","import Player from '../music'\n\nclass Forward {\n  constructor (player) {\n    const util = Player.util\n    const controlEl = player.controls\n    const ev = ['click', 'touchstart']\n    let forwardBtn = player.config.forwardBtn ? player.config.forwardBtn : {}\n    let forward\n    if (forwardBtn.type === 'img') {\n      forward = Player.util.createImgBtn('forward', forwardBtn.url, forwardBtn.width, forwardBtn.height)\n    } else {\n      forward = util.createDom('xg-forward', `<xg-icon class=\"xgplayer-icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" viewBox=\"0 0 40 40\">\n                <path transform = \"scale(1.5 1.5) translate(-2 4.5)\"\n                d=\"m 2,2.99996 0,10 7,-5 -7,-5 z m 7,5 0,5 7,-5 -7,-5 0,5 z m 7,0 0,0 z\"></path>\n            </svg></xg-icon>`, {}, 'xgplayer-forward')\n    }\n    controlEl.appendChild(forward)\n    ev.forEach(item => {\n      forward.addEventListener(item, function (e) {\n        e.preventDefault()\n        e.stopPropagation()\n        player.forward()\n      }, false)\n    })\n  }\n}\n\nexport default Forward;\n","import Player from '../music'\n\nclass Meta {\n  constructor (player) {\n    const util = Player.util\n    const progressEl = player.controls.querySelector('.xgplayer-progress')\n    const name = util.createDom('xg-name', `${player.config.name || player.config.url[0].name}`, {}, 'xgplayer-name')\n    progressEl.appendChild(name)\n    player.on('change', item => {\n      name.innerHTML = `${item.name}`\n    })\n  }\n}\n\nexport default Meta;\n","import Player from '../music'\n\nclass Next {\n  constructor (player) {\n    const util = Player.util\n    const controlEl = player.controls\n    const ev = ['click', 'touchstart']\n    let nextBtn = player.config.nextBtn ? player.config.nextBtn : {}\n    let next\n    if (nextBtn.type === 'img') {\n      next = Player.util.createImgBtn('next', nextBtn.url, nextBtn.width, nextBtn.height)\n    } else {\n      next = util.createDom('xg-next', `<xg-icon class=\"xgplayer-icon\"><svg t=\"1599462191231\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"1796\" width=\"40\" height=\"40\"><path d=\"M298.666667 298.666667v426.666666l298.666666-213.333333z m384 426.666666V298.666667h-85.333334v426.666666z\" p-id=\"1797\" fill=\"#ffffff\"></path></svg></xg-icon>`, {}, 'xgplayer-next')\n    }\n    controlEl.appendChild(next)\n    ev.forEach(item => {\n      next.addEventListener(item, function (e) {\n        e.preventDefault()\n        e.stopPropagation()\n        player.next()\n      }, false)\n    })\n  }\n}\n\nexport default Next;\n","import Player from '../music'\n\nclass Prev {\n  constructor (player) {\n    const util = Player.util\n    const controlEl = player.controls\n    const ev = ['click', 'touchstart']\n    let prevBtn = player.config.prevBtn ? player.config.prevBtn : {}\n    let prev\n    if (prevBtn.type === 'img') {\n      prev = Player.util.createImgBtn('prev', prevBtn.url, prevBtn.width, prevBtn.height)\n    } else {\n      prev = util.createDom('xg-prev', `<xg-icon class=\"xgplayer-icon\"><svg t=\"1599462285788\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"18654\" width=\"40\" height=\"40\"><path d=\"M682.666667 298.666667l-298.666667 213.333333 298.666667 213.333333z m-298.666667 213.333333V298.666667H298.666667v426.666666h85.333333z\" p-id=\"18655\" fill=\"#ffffff\"></path></svg></xg-icon>`, {}, 'xgplayer-prev')\n    }\n    controlEl.appendChild(prev)\n\n    ev.forEach(item => {\n      prev.addEventListener(item, function (e) {\n        e.preventDefault()\n        e.stopPropagation()\n        player.prev()\n      }, false)\n    })\n  }\n}\n\nexport default Prev;\n","class INDEXDB {\n  constructor (mydb = {name: 'xgplayer', version: 1, db: null, ojstore: {name: 'xg-m4a', keypath: 'vid'}}) {\n    this.indexedDB = window.indexedDB || window.webkitindexedDB\n    this.IDBKeyRange = window.IDBKeyRange || window.webkitIDBKeyRange // 键范围\n    this.myDB = mydb\n  }\n\n  openDB (callback) {\n    // 建立或打开数据库，建立对象存储空间(ObjectStore)\n    let self = this\n    let version = this.myDB.version || 1\n    let request = self.indexedDB.open(self.myDB.name, version)\n    request.onerror = function (e) {\n      // console.log('e.currentTarget.error.message')\n    }\n    request.onsuccess = e => {\n      this.myDB.db = e.target.result\n      // console.log('成功建立并打开数据库:' + this.myDB.name + ' version' + this.myDB.version)\n      callback.call(self)\n    }\n    request.onupgradeneeded = e => {\n      let db = e.target.result\n      let transaction = e.target.transaction\n      let store\n      if (!db.objectStoreNames.contains(self.myDB.ojstore.name)) {\n        // 没有该对象空间时创建该对象空间\n        store = db.createObjectStore(self.myDB.ojstore.name, {keyPath: self.myDB.ojstore.keypath})\n        // console.log('成功建立对象存储空间：' + this.myDB.ojstore.name)\n      }\n    }\n  }\n\n  deletedb () {\n    // 删除数据库\n    let self = this\n    self.indexedDB.deleteDatabase(this.myDB.name)\n    // console.log(this.myDB.name + '数据库已删除')\n  }\n\n  closeDB () {\n    // 关闭数据库\n    this.myDB.db.close()\n    // console.log('数据库已关闭')\n  }\n\n  addData (storename, data) {\n    // 添加数据，重复添加会报错\n    let store = this.myDB.db.transaction(storename, 'readwrite').objectStore(storename)\n    let request\n    for (let i = 0; i < data.length; i++) {\n      request = store.add(data[i])\n      request.onerror = function () {\n        // console.error('add添加数据库中已有该数据')\n      }\n      request.onsuccess = function () {\n        // console.log('add添加数据已存入数据库')\n      }\n    }\n  }\n\n  putData (storename, data) {\n    // 添加数据，重复添加会更新原有数据\n    let store = this.myDB.db.transaction(storename, 'readwrite').objectStore(storename)\n    let request\n    for (let i = 0; i < data.length; i++) {\n      request = store.put(data[i])\n      request.onerror = function () {\n        // console.error('put添加数据库中已有该数据')\n      }\n      request.onsuccess = function () {\n        // console.log('put添加数据已存入数据库')\n      }\n    }\n  }\n\n  getDataByKey (storename, key, callback) {\n    let self = this\n    // 根据存储空间的键找到对应数据\n    let store = this.myDB.db.transaction(storename, 'readwrite').objectStore(storename)\n    let request = store.get(key)\n    request.onerror = function () {\n      // console.error('getDataByKey error')\n      callback.call(self, null)\n    }\n    request.onsuccess = function (e) {\n      let result = e.target.result\n      // console.log('查找数据成功')\n      callback.call(self, result)\n    }\n  }\n\n  deleteData (storename, key) {\n    // 删除某一条记录\n    let store = this.myDB.db.transaction(storename, 'readwrite').objectStore(storename)\n    store.delete(key)\n    // console.log('已删除存储空间' + storename + '中' + key + '记录')\n  }\n\n  clearData (storename) {\n    // 删除存储空间全部记录\n    let store = this.myDB.db.transaction(storename, 'readwrite').objectStore(storename)\n    store.clear()\n    // console.log('已删除存储空间' + storename + '全部记录')\n  }\n}\n\nexport default INDEXDB\n"],"sourceRoot":""}